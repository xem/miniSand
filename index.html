<tt>
<h2>Mini Sand</h2>

<p>A 2D sand simulator in 539 bytes.
<br>Use mouse to drop more sand.

<pre style="background:#222;color:#fff;padding:10px;word-wrap:break-word;white-space:pre;width:800px;position:relative;font-size:12px">
&lt;canvas id=a>&lt;script>d=[f=c=a.getContext`2d`],r=Math.random,setInterval((()=>{for(a.width^=0,i=150;i--;)
for(d[i]||=[],j=300;j--;)f&&(d[i][j]=r()&lt;.2),i&lt;149&&d[i][j]&&(d[i+1][j]?0!=j&&!d[i+1][j-1]||d[i+1][j+1]?!j||299
!=j&&!d[i+1][j+1]||d[i+1][j-1]?j&&j&lt;299&&!d[i+1][j+1]&&!d[i+1][j-1]&&(o=r()&lt;.5?1:-1,d[i+1][j+o]=1,d[i][j]=0):(d
[i+1][j-1]=1,d[i][j]=0):(d[i+1][j+1]=1,d[i][j]=0):(d[i+1][j]=1,d[i][j]=0));for(i=150;i--;)for(j=300;j--;)i&lt;149
&&d[i][j]&&d[i][j]&&c.fillRect(j,i,1,1);f=0,d[E.pageY-8][E.pageX-8]=1}),16),onmousemove=i=>E=i&lt;/script></pre>

<iframe frameborder="0" scrolling="no" src="index.min.html" style="border:1px solid;width:316px;height:166px;transform:scale(3);transform-origin:top left">