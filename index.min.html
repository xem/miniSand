<canvas id=a></canvas>

<script>
d=[f=c=a.getContext`2d`];

setInterval(_=>{
  a.width^=0;
  for(i=150;i--;){
    d[i]||=[];
    for(j=300;j--;){
      if(f)d[i][j]=(r=Math.random)()<.2;
      if(i<149&&d[i][j]){
      
        o=2;
        n=[d[i+1][j-1],d[i+1][j],d[i+1][j+1]];
      
        // Just below
        if(!n[1]){
          o=0;
        }
        
        // Right
        else if(n[0]&&!n[2]){
          o=1;
        }
        
        // Left
        else if(n[2]&&!n[0]){
          o=-1;
        }
        
        // Both: random
        else if(!n[0]&&!n[2]){
          o=r()<.5?1:-1;
        }
        
        if(o<2){
          d[i+1][j+o]=1;
          c.fillRect(j+o,i+1,1,1);
          d[i][j]=0;
        }
        else c.fillRect(j,i,1,1);
      }
    }
  }
  f=0;
  d[E.pageY-8][E.pageX-8]=1;
},16);
onmousemove=e=>E=e;

</script>